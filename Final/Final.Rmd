---
title: "Measuring Bias in Major League Baseball (MLB) Umpire Calls"
author: "Nathan Weil, Spencer Vernon, James Slattery, Zach Marquez, Austin Berman"
date: "May 25 2024"
output:
  pdf_document:
    number_sections: yes
    toc: yes
urlcolor: blue
fontsize: 12pt
graphics: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, comment = NA, message = FALSE, eval = TRUE,
                      fig.width = 6, fig.height = 4.5, fig.align = "center")
```

```{=tex}
\setlength{\parskip}{6pt}
\newpage
```

\fontsize{12pt}{13pt}\selectfont

# Introduction



In this report, we will be analyzing Major League Baseball (MLB) statistics. We will be looking at the relationship between various statistics and how they can be used to predict the number of wins a team will have in a season or if an umpire is biased. 

## Key Takeaways

## Data

Sourced from: https://baseballsavant.mlb.com/statcast_search

As well as : https://github.com/jldbc/pybaseball



# Exploratory Data Analysis

## Cleaning, NaNs, Corr Plot
```{r, warning=FALSE, message=FALSE, include=FALSE}
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(gridExtra)
library(corrplot)
library(stats)
library(glmnet)
library(RColorBrewer)
library(lubridate)
library(glue)
library(tidyr)

data <- read_csv("data.csv")
```

```{r}
dim(data)
```
```{r}
plot(as.factor(data$pitch_type), main="Frequency of Pitch Type")
```

```{r}
# Assuming `data` is your data frame
average_pitch_speed_by_inning <- data %>%
  group_by(inning) %>%
  summarize(average_pitch_speed = mean(release_speed, na.rm = TRUE))

# Create the plot
ggplot(average_pitch_speed_by_inning, aes(x = inning, y = average_pitch_speed)) +
  geom_line() + # Use geom_bar() for a bar plot instead of geom_line()
  geom_point() +
  labs(title = "Average Pitch Speed by Inning",
       x = "Inning",
       y = "Average Pitch Speed") +
  theme_minimal()
```

```{r}
hist(data$inning)
```
```{r}
# Create the box plot
ggplot(data, aes(x = events, y = release_speed)) +
  geom_boxplot() +
  labs(title = "Box Plot of Release Speed by Event",
       x = "Event",
       y = "Release Speed") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Rotate x-axis labels if 

```


# Data Preparation

# Modeling 

# Interpretation and Prediction

# Conclusion